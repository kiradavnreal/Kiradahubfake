-- Kiradabeta Script
-- Updated with High Jump feature and compact input fields

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local RunService = game:GetService("RunService")

-- Create ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KiradaBeta"
ScreenGui.Parent = game.CoreGui

-- Create Main Frame (Horizontal Menu)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 600, 0, 50)
MainFrame.Position = UDim2.new(0.5, -300, 0, 20)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0) -- Black
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

-- UIListLayout for horizontal buttons
local UIListLayout = Instance.new("UIListLayout")
UIListLayout.FillDirection = Enum.FillDirection.Horizontal
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
UIListLayout.Padding = UDim.new(0, 10)
UIListLayout.Parent = MainFrame

-- Function to create buttons
local function CreateButton(name, callback)
    local Button = Instance.new("TextButton")
    Button.Size = UDim2.new(0, 100, 0, 40)
    Button.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
    Button.Text = name
    Button.TextColor3 = Color3.new(1, 1, 1) -- White
    Button.TextSize = 14
    Button.Parent = MainFrame
    Button.MouseButton1Click:Connect(callback)
    return Button
end

-- Speed Hack Frame
local SpeedFrame = Instance.new("Frame")
SpeedFrame.Size = UDim2.new(0, 150, 0, 80)
SpeedFrame.Position = UDim2.new(0.5, -75, 0.5, -40)
SpeedFrame.BackgroundColor3 = Color3.new(0, 0, 0)
SpeedFrame.BorderSizePixel = 0
SpeedFrame.Visible = false
SpeedFrame.Parent = ScreenGui

local SpeedLabel = Instance.new("TextLabel")
SpeedLabel.Size = UDim2.new(1, 0, 0, 20)
SpeedLabel.Text = "Custom Speed"
SpeedLabel.TextColor3 = Color3.new(1, 1, 1)
SpeedLabel.BackgroundTransparency = 1
SpeedLabel.TextSize = 12
SpeedLabel.Parent = SpeedFrame

local SpeedTextBox = Instance.new("TextBox")
SpeedTextBox.Size = UDim2.new(1, 0, 0, 20)
SpeedTextBox.Position = UDim2.new(0, 0, 0, 20)
SpeedTextBox.Text = "16" -- Default speed
SpeedTextBox.TextColor3 = Color3.new(1, 1, 1)
SpeedTextBox.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
SpeedTextBox.TextSize = 12
SpeedTextBox.Parent = SpeedFrame

local ApplySpeedButton = Instance.new("TextButton")
ApplySpeedButton.Size = UDim2.new(1, 0, 0, 20)
ApplySpeedButton.Position = UDim2.new(0, 0, 0, 40)
ApplySpeedButton.Text = "Apply"
ApplySpeedButton.TextColor3 = Color3.new(1, 1, 1)
ApplySpeedButton.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
ApplySpeedButton.TextSize = 12
ApplySpeedButton.Parent = SpeedFrame
ApplySpeedButton.MouseButton1Click:Connect(function()
    local speed = tonumber(SpeedTextBox.Text)
    if speed and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.WalkSpeed = speed -- No limit
    end
    SpeedFrame.Visible = false
end)

-- High Jump Frame
local JumpFrame = Instance.new("Frame")
JumpFrame.Size = UDim2.new(0, 150, 0, 80)
JumpFrame.Position = UDim2.new(0.5, -75, 0.5, -40)
JumpFrame.BackgroundColor3 = Color3.new(0, 0, 0)
JumpFrame.BorderSizePixel = 0
JumpFrame.Visible = false
JumpFrame.Parent = ScreenGui

local JumpLabel = Instance.new("TextLabel")
JumpLabel.Size = UDim2.new(1, 0, 0, 20)
JumpLabel.Text = "Custom Jump Height"
JumpLabel.TextColor3 = Color3.new(1, 1, 1)
JumpLabel.BackgroundTransparency = 1
JumpLabel.TextSize = 12
JumpLabel.Parent = JumpFrame

local JumpTextBox = Instance.new("TextBox")
JumpTextBox.Size = UDim2.new(1, 0, 0, 20)
JumpTextBox.Position = UDim2.new(0, 0, 0, 20)
JumpTextBox.Text = "50" -- Default jump height
JumpTextBox.TextColor3 = Color3.new(1, 1, 1)
JumpTextBox.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
JumpTextBox.TextSize = 12
JumpTextBox.Parent = JumpFrame

local ApplyJumpButton = Instance.new("TextButton")
ApplyJumpButton.Size = UDim2.new(1, 0, 0, 20)
ApplyJumpButton.Position = UDim2.new(0, 0, 0, 40)
ApplyJumpButton.Text = "Apply"
ApplyJumpButton.TextColor3 = Color3.new(1, 1, 1)
ApplyJumpButton.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
ApplyJumpButton.TextSize = 12
ApplyJumpButton.Parent = JumpFrame
ApplyJumpButton.MouseButton1Click:Connect(function()
    local jumpPower = tonumber(JumpTextBox.Text)
    if jumpPower and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.JumpPower = jumpPower -- No limit
        LocalPlayer.Character.Humanoid.JumpHeight = jumpPower / 2 -- Adjust for Roblox's JumpHeight
    end
    JumpFrame.Visible = false
end)

-- Teleport Frame
local TeleportFrame = Instance.new("Frame")
TeleportFrame.Size = UDim2.new(0, 150, 0, 80)
TeleportFrame.Position = UDim2.new(0.5, -75, 0.5, -40)
TeleportFrame.BackgroundColor3 = Color3.new(0, 0, 0)
TeleportFrame.BorderSizePixel = 0
TeleportFrame.Visible = false
TeleportFrame.Parent = ScreenGui

local TpLabel = Instance.new("TextLabel")
TpLabel.Size = UDim2.new(1, 0, 0, 20)
TpLabel.Text = "Player UserId"
TpLabel.TextColor3 = Color3.new(1, 1, 1)
TpLabel.BackgroundTransparency = 1
TpLabel.TextSize = 12
TpLabel.Parent = TeleportFrame

local TpTextBox = Instance.new("TextBox")
TpTextBox.Size = UDim2.new(1, 0, 0, 20)
TpTextBox.Position = UDim2.new(0, 0, 0, 20)
TpTextBox.Text = ""
TpTextBox.TextColor3 = Color3.new(1, 1, 1)
TpTextBox.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
TpTextBox.TextSize = 12
TpTextBox.Parent = TeleportFrame

local ApplyTpButton = Instance.new("TextButton")
ApplyTpButton.Size = UDim2.new(1, 0, 0, 20)
ApplyTpButton.Position = UDim2.new(0, 0, 0, 40)
ApplyTpButton.Text = "Teleport"
ApplyTpButton.TextColor3 = Color3.new(1, 1, 1)
ApplyTpButton.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
ApplyTpButton.TextSize = 12
ApplyTpButton.Parent = TeleportFrame
ApplyTpButton.MouseButton1Click:Connect(function()
    local userId = tonumber(TpTextBox.Text)
    if userId then
        for _, player in ipairs(Players:GetPlayers()) do
            if player.UserId == userId then
                if LocalPlayer.Character and player.Character then
                    LocalPlayer.Character:MoveTo(player.Character.PrimaryPart.Position)
                end
                break
            end
        end
    end
    TeleportFrame.Visible = false
end)

-- Buttons
CreateButton("Run", function()
    SpeedFrame.Visible = true
end)

CreateButton("High Jump", function()
    JumpFrame.Visible = true
end)

local isInvisible = false
CreateButton("Invisible", function()
    isInvisible = not isInvisible
    if LocalPlayer.Character then
        for _, part in ipairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") or part:IsA("Decal") then
                part.Transparency = isInvisible and 1 or 0
            end
        end
    end
end)

CreateButton("Teleport", function()
    TeleportFrame.Visible = true
end)

CreateButton("Server Hop (Low Pop)", function()
    local placeId = game.PlaceId
    local servers = {}
    local cursor = ""
    repeat
        local url = "https://games.roblox.com/v1/games/" .. placeId .. "/servers/Public?sortOrder=Asc&limit=100"
        if cursor ~= "" then url = url .. "&cursor=" .. cursor end
        local response = HttpService:JSONDecode(HttpService:GetAsync(url))
        servers = response.data
        cursor = response.nextPageCursor
    until not cursor

    if #servers > 0 then
        table.sort(servers, function(a, b) return a.playing < b.playing end)
        local lowPopServer = servers[1]
        if lowPopServer.playing < game.Players.NumPlayers then
            TeleportService:TeleportToPlaceInstance(placeId, lowPopServer.id)
        end
    end
end)

CreateButton("Toggle Menu", function()
    MainFrame.Visible = not MainFrame.Visible
end)
